# üìò H3 ‚Äì Specifik√°ci√≥s f√°zis (SRS + dokument√°ci√≥)
*Projekt:* Magass√°g-alap√∫ sz√≠nh√°zi jegyfoglal√≥ rendszer (FastAPI)  
*Csapat:* "d√°jnamik DUO" ‚Äì Matyi Bern√°t, Bodn√°r D√°niel  
*D√°tum:* 2025. okt√≥ber

---

## 1. √Åttekint√©s
A H3 f√°zis c√©lja a rendszer *r√©szletes k√∂vetelm√©nyeinek* meghat√°roz√°sa implement√°ci√≥ el≈ëtt.  
Ez a dokumentum tartalmazza:  
‚úî *SRS (k√∂vetelm√©nyspecifik√°ci√≥)*  
‚úî *B≈ëv√≠tett sz√≥t√°r*  
‚úî *Felhaszn√°l√≥i dokument√°ci√≥ ‚Äì els≈ë verzi√≥*  
‚úî *Munkanapl√≥ indul√≥ bejegyz√©sekkel*

---

## 2. Szoftverk√∂vetelm√©ny-specifik√°ci√≥ (SRS)

### 2.1 Bevezet√©s
*C√©l:* Ez a dokumentum meghat√°rozza a Magass√°g-alap√∫ sz√≠nh√°zi jegyfoglal√≥ rendszer k√∂vetelm√©nyeit.  
*Hat√≥k√∂r:* A rendszer egy *FastAPI alap√∫* backend, amely *csak akkor enged foglal√°st*, ha az adott √ºl√©s *el≈ëtti sorok m√°r foglalt helyein az ott √ºl≈ë n√©z≈ëk magass√°ga nem akad√°lyozn√° a r√°l√°t√°st*. A rendszer *Swagger UI fel√ºleten tesztelhet≈ë*.

---

### 2.2 √Åltal√°nos le√≠r√°s

| T√©tel | Le√≠r√°s |
|---|---|
| *Aktorok* | Jegyv√°s√°rl√≥ (n√©z≈ë), Admin, Rendszer (API) |
| *K√∂rnyezet* | Python 3.11+, FastAPI, Swagger UI, b√∂ng√©sz≈ë |
| *F≈ë funkci√≥k* | √úl√©slista, foglal√°s magass√°g alapj√°n, visszajelz√©s |
| *Fel√ºlet* | REST API | 
| *Korl√°tok* | Kezd≈ë verzi√≥ban csak 1 teremmodell, nincs hiteles√≠t√©s |
| *Felt√©telez√©sek* | A felhaszn√°l√≥ val√≥s magass√°got ad meg √©s egy√©rtelm≈± √ºl√©skoordin√°t√°t |

---

### 2.3 Funkcion√°lis k√∂vetelm√©nyek (FR)

| ID | Funkci√≥ | Le√≠r√°s | Bemenet | Kimenet | El≈ëfelt√©tel | Ut√≥felt√©tel |
|---|---|---|---|---|---|---|
| *FR-01* | √úl√©slista | Szabad/foglalt helyek lek√©r√©se | ‚Äì | JSON lista | Teremmodell bet√∂ltve | ‚Äì |
| *FR-02* | Foglal√°s kezdem√©nyez√©se | Felhaszn√°l√≥ megadja sor, oszlop, magass√°g | sor, oszlop, magass√°g_cm | 201 vagy 409 | √úl√©s l√©tezik | Foglal√°s r√∂gz√ºl vagy elutas√≠tva |
| *FR-03* | Magass√°glogika ellen≈ërz√©se | Ellen≈ërzi, hogy el≈ëtte √ºl-e magasabb | sor, oszlop, magass√°g_cm | true/false + indok | ‚Äì | Foglal√°s elutas√≠t vagy enged |
| *FR-04* | Foglal√°s t√∂rl√©se | Felhaszn√°l√≥/admin t√∂rli saj√°t foglal√°s√°t | id | 204 / 404 | Foglal√°s l√©tezik | √úl√©s felszabadul |
| *FR-05* | Hibakezel√©s | Egys√©ges API hibaform√°tum | ‚Äì | JSON error objektum | ‚Äì | ‚Äì |

---

### 2.4 Use Case t√°bl√°zat

| Use Case | Aktor | C√©l | F≈ë folyamat | Alternat√≠v / Hiba√°g |
|---|---|---|---|---|
| *UC-01*: √úl√©sek megtekint√©se | Jegyv√°s√°rl√≥ | Inform√°ci√≥ a foglalts√°gr√≥l | GET /seats ‚Üí lista | ‚Äì |
| *UC-02*: Foglal√°s magass√°ggal | Jegyv√°s√°rl√≥ | Foglal√°s ind√≠t√°sa | POST /reserve ‚Üí magass√°g-ellen≈ërz√©s ‚Üí 201 | ‚Üí *409*, ha el≈ëtte magasabb √ºl≈ë van |
| *UC-03*: Foglal√°s t√∂rl√©se | Jegyv√°s√°rl√≥/Admin | Foglal√°s elt√°vol√≠t√°sa | DELETE /reserve/{id} ‚Üí 204 | ‚Üí *404*, ha nincs ilyen foglal√°s |
| *UC-04*: √úl√©sr√°cs karbantart√°s | Admin | Terem bet√∂lt√©se | √úl√©sadatok publik√°l√°sa | ‚Üí Hib√°s form√°tum ‚Üí 400 |

---

### 2.5 Nem funkcion√°lis k√∂vetelm√©nyek (NFR)

| Kateg√≥ria | Elv√°r√°s |
|---|---|
| *Teljes√≠tm√©ny* | √Åtlagos v√°laszid≈ë <150 ms Swagger alatt |
| *Megb√≠zhat√≥s√°g* | Hib√°s input ‚Üí stabil hiba√ºzenet (422, 409, 404) |
| *Haszn√°lhat√≥s√°g* | Swagger UI-b√≥l minden funkci√≥ kipr√≥b√°lhat√≥ |
| *Tesztelhet≈ës√©g* | Magass√°glogika k√ºl√∂n pytest egys√©gtesztben lefedve |
| *Olvashat√≥s√°g* | Modul√°ris fel√©p√≠t√©s ‚Äì k√ºl√∂n route, logika, storage |
| *K√≥dmin≈ës√©g* | ruff, black betart√°sa k√∂telez≈ë |
| *Biztons√°g* | H3-ban *nincs auth*, csak inputvalid√°ci√≥ |

---

### 2.6 Korl√°tok √©s f√ºgg≈ës√©gek

| T√≠pus | Le√≠r√°s |
|---|---|
| Hardver | Lok√°lis fejleszt≈ëi g√©p elegend≈ë |
| Szoftver | Python 3.11+, Uvicorn k√∂nyvt√°r sz√ºks√©ges |
| K√ºls≈ë f√ºgg≈ës√©g | Swagger renderel√©shez modern b√∂ng√©sz≈ë |
| Funkcion√°lis korl√°t | Egy terem modell, nincs felhaszn√°l√≥n√©v/jelsz√≥ rendszer |

---

### 2.7 Felt√©telez√©sek √©s j√∂v≈ëbeli fejleszt√©sek

| T√≠pus | Le√≠r√°s |
|---|---|
| *Felt√©telez√©s* | A n√©z≈ëk val√≥s magass√°got adnak meg |
| *Felt√©telez√©s* | A terem helyadatai struktur√°ltan fel vannak t√∂ltve |
| *J√∂v≈ëbeli funkci√≥* | T√∂bb terem, magaslatmodell (lejt√©s), AI helyaj√°nl√≥ |
| *J√∂v≈ëbeli funkci√≥* | Hiteles√≠tett profilok, jegyk√≥d gener√°l√°s, QR check-in |

---

### 2.8 Hivatkoz√°sok

- FastAPI dokument√°ci√≥ ‚Äì https://fastapi.tiangolo.com  
- Swagger UI ‚Äì https://swagger.io/tools/swagger-ui/  
- pytest ‚Äì https://docs.pytest.org  
- GitHub Actions ‚Äì CI dokument√°ci√≥

---

## 3. Sz√≥t√°r (b≈ëv√≠tett)

| Fogalom | Defin√≠ci√≥ |
|---|---|
| *Sor / Oszlop* | A n√©z≈ët√©r r√°csalap√∫ azonos√≠t√°sa (pl. 5. sor, 7. sz√©k) |
| *Magass√°g_cm* | A foglal√≥ √°ltal megadott t√©nyleges testmagass√°g cm-ben |
| *Foglal√°s* | Egy √ºl≈ëhely + magass√°g hozz√°rendel√©se id≈ëb√©lyeggel |
| *409 Conflict* | Hibak√≥d: a foglal√°s *nem enged√©lyezhet≈ë magass√°gi konfliktus miatt* |
| *√úl√©sr√°cs* | A rendszerben t√°rolt teljes √ºl√©s√°llapot m√°trix |
| *Swagger UI* | Grafikus API tesztfel√ºlet, automatikusan gener√°lva FastAPI-b√≥l |

---

## 4. Felhaszn√°l√≥i dokument√°ci√≥ ‚Äì els≈ë verzi√≥

### 4.1 √Åttekint√©s
A rendszer lehet≈ëv√© teszi, hogy a felhaszn√°l√≥ *magass√°g√°nak megad√°s√°val* foglaljon √ºl≈ëhelyet, ezzel *minimaliz√°lva a takar√°sb√≥l ad√≥d√≥ √©lm√©nyroml√°st*.

### 4.2 Telep√≠t√©s / el√©r√©s

# fejleszt≈ëi futtat√°s
python -m venv .venv
source .venv/bin/activate  # Windows: .venv\Scripts\activate
pip install -e .[dev]
python -m app.main  # Swagger: http://localhost:8000/docs

### 4.3 Haszn√°lati √∫tmutat√≥ (Swaggeren kereszt√ºl)

| L√©p√©s | M≈±velet |
|---|---|
| 1 | Nyisd meg a Swagger UI-t: /docs |
| 2 | Futtasd a GET /seats v√©gpontot ‚Äì ellen≈ërizd az √ºl√©s√°llapotot |
| 3 | Haszn√°lj POST /reserve ‚Üí add meg: sor, oszlop, magassag_cm |
| 4 | Siker ‚Üí v√°lasz 201 Created, foglal√°s r√∂gz√ºl |
| 5 | Magasabb √ºl≈ë miatt elutas√≠t√°s ‚Üí v√°lasz 409 Conflict + √ºzenet |
| 6 | Foglal√°s t√∂rl√©se ‚Üí DELETE /reserve/{id} |

### 4.4 Hibaelh√°r√≠t√°s

| Probl√©ma | Ok | Megold√°s |
|---|---|---|
| *409 Conflict* | El≈ëtted magasabb foglal√°s van | V√°lassz m√°sik sort vagy h√°tr√©bb √ºl√©st |
| *404 Not Found* | Foglal√°s ID nem l√©tezik | K√©rd le √∫jra az √ºl√©slist√°t |
| *422 Unprocessable Entity* | Input hib√°s (nem l√©tez≈ë sor/oszlop) | Ellen≈ërizd az √©rt√©keket Swaggerben |

---

## 5. Munkanapl√≥ (H3 indul√≥ verzi√≥)

| D√°tum | Tag | Feladat | √ìra |
|---|---|---|---|
| 2025-10-12 | MB | SRS v√°z kit√∂lt√©se | 2 |
| 2025-10-13| BD | Use Case + funkci√≥t√°bl√°k | 2 |
| 2025-10-16 | MB | Felhaszn√°l√≥i doksi + hibakezel√©s szekci√≥ | 1.5 |

---
